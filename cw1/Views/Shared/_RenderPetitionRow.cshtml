@model cw1.Models.Petition

<style>
    .pet-thumbnail {
        width: 435px;
    }

    .panel-heading {
        background-color: slateblue !important;
        color: navajowhite !important;
    }
</style>
<div class="col-lg-4">
    <div id="panelId" class="panel panel-primary text-justify">
        <!-- Default panel contents -->
        <div id="@Model.Id+p" class="panel-heading"><h3 class="panel-title"><b>@Model.Title</b></h3></div>
        <div class="panel-body">
            <div id="imageWrapper" class="row">
                <div class="col-lg-12">
                    <img src="~/Content/illustrations/elections_05.svg" />
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <br />
                    <p>@Model.Description</p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3">
                    <p><b>@Model.Members.Count signatures</b></p>
                </div>
                <div class="col-lg-1 col-lg-offset-7">
                    <button class="signBtn btn-danger btn-sm" id="@Model.Id">Sign</button>
                </div>
            </div>
        </div>

        <!-- List group -->
        <ul class="list-group">
            @foreach (var m in Model.Members)
            {
                <li class="list-group-item">@m.Name @m.Surname</li>
            }
        </ul>
    </div>
</div>

<script>
    $(".signBtn").on("click", function () {
        var user = sessionStorage.getItem("user");
        if (user == null) {
            alert("You have to be signed in darling");
        } else {
            id = this.id;
            url = "http://localhost:57791/Home/AddMember?petitionId=" + this.id + "&username=" + user;
            window.location = url;
        }
    });
    
</script>